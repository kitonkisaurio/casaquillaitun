<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <!-- título y descripción de tu sitio -->
    <meta property="og:title" content="Casa Quillaitun – Cosas para el hogar" />
    <meta property="og:description" content="Visita nuestra tienda online" />
    <!-- URL absoluta de tu logo en HTTPS -->
    <meta property="og:image" content="https://www.ecicep.org/casa.png" />
    <meta property="og:url"   content="https://www.ecicep.org" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Productos</title>
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #FAF3E3; /* beige claro */
            color: #6B4F27;           /* marrón cálido */
            margin: 0;
            padding: 0;
        }
        header {
            text-align: center;
            padding: 20px 0;
            background-color: #F9F6F2; /* marfil */
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .card {
            background-color: #FFFFFF; /* blanco */
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(210, 180, 140, 0.18);
            text-align: center;
            position: relative;
            padding-bottom: 10px;
            border: 1px solid #F9F6F2;
        }
        .card img {
            width: 120%;
            max-width: 120%;
            height: 240px;
            object-fit: cover;
            margin-left: -10%;
            background: #FAF3E3;
        }
        .card.grayscale img {
            filter: grayscale(100%);
        }
        .card h2 {
            margin: 10px 0;
            color: #B97A56; /* tono cálido */
        }
        .card p {
            margin: 5px 0;
            color: #8B6F4E;
        }
        .card input[type="number"] {
            width: 60px;
            padding: 5px;
            margin-right: 5px;
            background: #F9F6F2;
            color: #6B4F27;
            border: 1px solid #EADBC8;
        }
        .card button {
            margin: 10px 5px;
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .card button:disabled {
            background-color: #EADBC8;
            cursor: not-allowed;
        }
        .add-btn {
            background-color: #E9B384;
            color: #fff;
        }
        .cart {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            background: #F9F6F2;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(210, 180, 140, 0.18);
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
            color: #6B4F27;
            border: 1px solid #EADBC8;
        }
        .cart h3 {
            margin-top: 0;
            color: #B97A56;
        }
        .cart ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .cart li {
            margin-bottom: 10px;
            font-size: 14px;
            color: #8B6F4E;
        }
        .cart .total {
            font-weight: bold;
            margin-top: 10px;
            color: #B97A56;
        }
        form {
            max-width: 400px;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            background: #FFFFFF;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(210, 180, 140, 0.18);
            border: 1px solid #F9F6F2;
        }
        form input, form button {
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #EADBC8;
            border-radius: 5px;
            background: #FAF3E3;
            color: #6B4F27;
        }
        form button {
            background-color: #E9B384;
            color: white;
            cursor: pointer;
            border: none;
        }

        /* Modo tablet */
        @media (max-width: 900px) {
            .container {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                padding: 10px;
                gap: 12px;
            }
            .cart {
                width: 90vw;
                right: 5vw;
                top: 10px;
                padding: 10px;
            }
            header img {
                height: 120px !important;
            }
        }

        /* Modo celular */
        @media (max-width: 600px) {
            .container {
                grid-template-columns: 1fr;
                padding: 5px;
                gap: 8px;
            }
            .card img {
                height: 180px;
            }
            .cart {
                position: static;
                width: 100vw;
                max-width: 100vw;
                border-radius: 0;
                box-shadow: none;
                padding: 8px;
                margin-bottom: 10px;
            }
            form {
                max-width: 98vw;
                padding: 10px;
            }
            header img {
                height: 80px !important;
            }
        }

        /* Título centrado y cálido */
        .titulo-catalogo {
            text-align: center;
            color: #B97A56; /* beige oscuro */
            background: linear-gradient(90deg, #FFFFFF 0%, #F9F6F2 100%);
            padding: 22px 0 14px 0;
            font-size: 2.7em;
            letter-spacing: 2px;
            border-radius: 12px;
            margin: 36px auto 16px auto;
            max-width: 700px;
            box-shadow: 0 2px 8px rgba(210, 180, 140, 0.13);
            font-family: 'Parisienne', cursive, Arial, sans-serif;
            font-weight: normal;
            text-shadow: 1px 1px 8px #e0d2b8;
        }
        .marquesina-marfil {
            width: 100vw;
            overflow: hidden;
            background: #F9F6F2; /* marfil */
            padding: 0;
            margin: 0;
            border-top: 1px solid #e0d2b8;
            position: relative;
        }
        .marquesina-marfil.encabezado {
            border-top: none;
            border-bottom: 1px solid #e0d2b8;
        }
        .texto-marquesina {
            display: inline-block;
            white-space: nowrap;
            color: #B97A56; /* beige oscuro */
            font-family: 'Parisienne', cursive, Arial, sans-serif;
            font-size: 2em;
            padding: 10px 0;
            animation: marquesina-izq 18s linear infinite;
        }
        @keyframes marquesina-izq {
            0% {
                transform: translateX(100vw);
            }
            100% {
                transform: translateX(-100%);
            }
        }
    </style>
    
</head>
<body>

<header>
    <img src="casa.png" alt="Logo" style="height: 200px;">
    <div class="marquesina-marfil encabezado">
        <span class="texto-marquesina">Casa Quillaitún</span>
    </div>
</header>

<h1 class="titulo-catalogo">Catálogo de Productos</h1>

<div style="text-align:center; margin: 40px 0;">
    <h2 style="color:#B97A56; font-family:Arial, sans-serif; font-size:2em; margin-bottom:16px;">
        ESPECIAL LABUBU
    </h2>
    <img src="Labubu-intro_480x480.webp" alt="Labubu en pez dorado" width="300">
</div>

<!-- Agrega el buscador antes de la lista de productos -->
<div style="text-align:center; margin-bottom: 24px;">
    <input 
        type="text" 
        id="buscador-productos" 
        placeholder="Buscar producto..." 
        style="width: 260px; padding: 8px; border-radius: 6px; border: 1px solid #ccc; font-size: 1em;"
        oninput="filtrarProductos()"
    >
</div>
<div id="resultado-busqueda" style="text-align:center; color:#B97A56; margin-bottom:18px; font-size:1.1em;"></div>

<div class="container" id="productos"></div>

<div class="cart" id="cart">
    <h3>
        <img src="https://cdn-icons-png.flaticon.com/512/3081/3081559.png" alt="Canasta" style="width:24px; height:24px; vertical-align:middle; margin-right:6px;">
        Canasta
    </h3>
    <ul id="cart-items"></ul>
    <p class="total">Total: $<span id="cart-total">0</span></p>
    <button id="checkout-btn" disabled>Enviar Pedido</button>
    <button id="clear-cart-btn" style="background:#dc3545; color:white; margin-left:10px; margin-top:8px;">Limpiar Canasta</button>
</div>
<form id="formulario">
    <input type="text" id="nombre" placeholder="Nombre" required>
    <input type="text" id="contacto" placeholder="Contacto" required>
    <input type="text" id="direccion" placeholder="Dirección de Entrega" required>
</form>

<div id="img-modal" style="display:none; position:fixed; z-index:9999; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.8); justify-content:center; align-items:center;">
    <img id="modal-img" src="" alt="Imagen ampliada" style="max-width:90vw; max-height:90vh; border-radius:10px; box-shadow:0 0 20px #000;">
</div>
<div>
</div>
<script>
    const productos = [
        { id: 53, nombre: 'Labubu sorpresa', valor: 7000, stock: 11, imagen: './labubusorpresa.png' },
        { id: 20, nombre: 'Vaso labubu chico', valor: 5000, stock: 2, imagen: './vasolabubuC.png' },
        { id: 16, nombre: 'Vaso labubu mediano', valor: 6000, stock: 1, imagen: './labubuM.png' },               
        { id: 18, nombre: 'vaso labubu grande', valor: 8000, stock: 1, imagen: './vasolabubuG.png' },
        { id: 51, nombre: 'pop socket celular labubu', valor: 2000, stock: 8, imagen: './popsocket.png' },
        { id: 60, nombre: 'Paraguas infantil Labubu', valor: 3500, stock: 3, imagen: './paraguasinfantiles.jpeg' },
        { id: 259, nombre: 'dancing labubu ', valor: 12000, stock:3, imagen: './dancinglabubu.jpeg' },
        { id: 539, nombre: 'Linterna Radio Solar ', valor: 15500, stock:1, imagen: './linternaradio.jpeg' },
        { id: 12902, nombre: 'linterna solar recargable ', valor: 3000, stock:5, imagen: './luz.jpg' },
        { id: 12903, nombre: 'Tabla picar bamboo ', valor: 2000, stock:5, imagen: './tabla.jpg' },
        { id: 594, nombre: 'tetera ', valor: 7000, stock:1, imagen: './tetera.jpeg' },
        { id: 591, nombre: 'perchero ', valor: 8000, stock:4, imagen: './perchero.jpeg' },
        { id: 5922, nombre: 'aislante de puerta ', valor: 1000, stock:0, imagen: './aislantepuerta.jpeg' },
        { id: 59332, nombre: 'Linterna Minera con imán ', valor: 2500, stock:2, imagen: './linternamineraiman.jpeg' },
        { id: 59922, nombre: 'Linterna Minera 2 ', valor: 2800, stock:1, imagen: './linternacabeza.jpeg' },
        { id: 5909, nombre: 'Linterna Minera recarbagle y solar ', valor: 4000, stock:2, imagen: './linternaminera2.jpeg' },
        { id: 5911, nombre: 'aspiradora', valor: 5000, stock:2, imagen: './aspiradora.jpeg' },
        { id: 59222, nombre: 'Linterna Cabeza 2', valor: 2000, stock:2, imagen: './linternaSOS.jpeg' },
        { id: 59444, nombre: 'Depiladora facial ', valor: 2500, stock:2, imagen: './depilador.jpeg' },
        { id: 59333, nombre: 'Batidora Cafe ', valor: 1500, stock:5, imagen: './batidoracafe.jpeg' },
        { id: 59555, nombre: 'set Bamboo ', valor: 2500, stock:5, imagen: './setbambococina.jpeg' },
        { id: 596666, nombre: 'porta huevo deslizante ', valor: 2500, stock:4, imagen: './portahuevodeslizante.jpeg' },
        { id: 596, nombre: 'Hervidor ', valor: 7000, stock:3, imagen: './hervidor.jpeg' },
        { id: 59666, nombre: 'Guatero de manos ', valor: 2200, stock:0, imagen: './guateromano.jpeg' },
        { id: 59666666, nombre: 'Guatero de manos rojo ', valor: 2200, stock:0, imagen: './guatero mano 2.jpeg' },
        { id: 5977, nombre: 'Guatero de manos cafe ', valor: 2200, stock:0, imagen: './guatero3.jpeg' },
        { id: 59888, nombre: 'Guatero de manos fucsia ', valor: 2200, stock:0, imagen: './guatero4.jpeg' },
        { id: 591212, nombre: 'Tubo Luz Usb', valor: 2500, stock:11, imagen: './luztubousb.jpeg' },
        { id: 5921212324, nombre: 'Kit 🚨 Emergencia Solar 3💡', valor: 17000, stock:2, imagen: './kitemergenciasolar.jpeg' },
        { id: 59092389283, nombre: 'Linterna 🚨 Emergencia Solar 2💡', valor: 13000, stock:2, imagen: './linternaemergenciasolar.jpeg' },
        { id: 591232, nombre: 'Zoquete Sensor movimiento', valor: 3000, stock:8, imagen: './zoqueteIR.jpeg' },
        { id: 593233545, nombre: 'Tira Led 40 CM sensor movimiento ', valor: 4500, stock:8, imagen: './tiralediR.jpeg' },
        { id: 5934545656, nombre: 'Tira Led 30 CM sensor movimiento ', valor: 3500, stock:8, imagen: './tiraled30.jpeg' },
        { id: 5565346359, nombre: 'Luz Solar 4 ampolletas ', valor: 6000, stock:5, imagen: './luzsolar.jpeg' },
        { id: 512129, nombre: 'Foco solar doble tipo lampara ', valor: 12000, stock:1, imagen: './focosolar2.jpeg' },
        { id: 512129, nombre: 'Radio solar parlante con bluetooth ', valor:6000, stock:1, imagen: './radiosolaparlanteBT.jpeg' },
        { id: 59223232, nombre: 'Foco solar doble c/sensor movimiento ', valor:5000, stock:8, imagen: './focosolardobleconsensor.jpeg' },
        { id: 592315456, nombre: 'Cable iphone ', valor:1000, stock:3, imagen: './cableiphone.jpeg' },
        { id: 524534653569, nombre: 'Cable iphone 2', valor:1500, stock:5, imagen: './cableiphone2.jpeg' },
        { id: 59346456456, nombre: 'mantequillera vidrio', valor:3000, stock:2, imagen: './mantequillera.jpeg' },
        { id: 45645659, nombre: 'Azucarero  vidrio', valor:1000, stock:5, imagen: './sugarbear.jpeg' },
        { id: 6, nombre: 'adaptador llave', valor: 3000, stock: 29, imagen: './adaptadorllave.png' },
        { id: 66, nombre: '🆕 NUEVO minitocador Espejo 🪞💄', valor: 5000, stock: 4, imagen: './minitocador.jpg' },
        { id: 65, nombre: '🥳 Set de 6 Inidviuales ', valor: 4500, stock: 2, imagen: './individuales.jpg' },
        { id: 1, nombre: 'Quita Pelusas', valor: 2500, stock: 4, imagen: './sacapelusa.png' },
        { id: 3, nombre: 'florero madera 60cm', valor: 5000, stock: 6, imagen: './floreromadera.png' },
        { id: 4, nombre: 'perfume mujer', valor: 3500, stock: 8, imagen: './perfumemujer.png' },
        { id: 5, nombre: 'perfume hombre', valor: 3500, stock: 7, imagen: './perfumehombre.png' },
        { id: 7, nombre: 'Super Pegamento', valor: 1000, stock: 21, imagen: './superglue.png' },
        { id: 8, nombre: 'Afeitadora hombre', valor: 6000, stock: 4, imagen: './afeitadorahombre.png' },
        { id: 9, nombre: 'Set 5 posillos', valor: 1000, stock: 6, imagen: './5posillos.png' },
        { id: 10, nombre: 'Set 5 esponjas', valor: 1000, stock: 58, imagen: './5esponjas.png' },
        { id: 11, nombre: 'lazos coquette 2x1', valor: 800, stock: 20, imagen: './lazoscoquette.png' },
        { id: 12, nombre: 'lazos coquette', valor: 800, stock: 10, imagen: './lazoscoquette2.png' },
        { id: 13, nombre: 'mini rallador', valor: 500, stock: 8, imagen: './minirallador.png' },
        { id: 14, nombre: 'lápices tinta', valor: 250, stock: 11, imagen: './lapicestinta.png' },
        { id: 15, nombre: 'llaveros', valor: 700, stock: 11, imagen: './llaveros.png' },
        { id: 17, nombre: 'audifonos gato', valor: 5000, stock: 2, imagen: './audifonogato.png' },
        { id: 19, nombre: 'Guantes Sanrio', valor: 2000, stock: 2, imagen: './guantesanrio.png' },
        { id: 21, nombre: 'Ampolleta Vintage', valor: 1500, stock: 22, imagen: './ampolletavintage.png' },
        { id: 22, nombre: 'Mantas 127X152 cms', valor: 6500, stock: 8, imagen: './mantas.png' },
        { id: 23, nombre: 'Bajada Cama', valor: 1000, stock: 8, imagen: './bajadacama.png' },
        { id: 24, nombre: 'Cobertor delgado King', valor: 12000, stock: 2, imagen: './cobertorking.png' },
        { id: 25, nombre: 'Cepillo de pelo Sanrio', valor: 2000, stock: 4, imagen: './cepillopelosanrio.png' },
        { id: 26, nombre: 'Funda Sillas set de 6', valor: 10000, stock: 1, imagen: './fundasilla.png' },
        { id: 27, nombre: 'Lampara Cónica', valor: 15000, stock: 1, imagen: './lamparacono.png' },
        { id: 28, nombre: 'Lampara rueda', valor: 8000, stock: 2, imagen: './lampararueda.png' },
        { id: 30, nombre: 'Lampara rejilla', valor: 8000, stock: 2, imagen: './lamparareja.png' },
        { id: 31, nombre: 'Lampara malla', valor: 8000, stock: 2, imagen: './lamparamalla.png' },
        { id: 32, nombre: 'Lampara poligonal2', valor: 8000, stock: 1, imagen: './lamparapoligonal2.png' },
        { id: 34, nombre: 'lampara redonda', valor: 8000, stock: 2, imagen: './lampararedonda.png' },
        { id: 35, nombre: 'lampara circular', valor: 8000, stock: 3, imagen: './lamparacircular.png' },
        { id: 36, nombre: 'ampolleta blanca', valor: 900, stock: 17, imagen: './ampolletablanca.png' },
        { id: 37, nombre: 'perros madera', valor: 500, stock: 10, imagen: './perrosmadera.png' },
        { id: 38, nombre: 'ampolleta recargable', valor: 2000, stock: 2, imagen: './ampolletarecargable.png' },
        { id: 39, nombre: 'luz led chica recargable', valor: 2500, stock: 0, imagen: './luzledchica.png' },
        { id: 50, nombre: 'ampolleta tipo vintage', valor: 1000, stock: 20, imagen: './ampolletatipovintage.png' },
        { id: 52, nombre: 'adaptador de vehiculo usb', valor: 2000, stock: 2, imagen: './usbcar.png' },
        { id: 54, nombre: 'alcancías metalizadas ', valor: 5000, stock: 2, imagen: './alcancia.png' },
        { id: 55, nombre: 'Juguete solar sanrio ', valor: 2500, stock: 5, imagen: './solarsanrio.png' },
        { id: 56, nombre: 'Set de 6 cuchillos ', valor: 2500, stock: 2, imagen: './6cuchillos.png' },
        { id: 57, nombre: 'linterna recargable 3 modos ', valor: 2500, stock: 7, imagen: './linternarecargable.png' },
        { id: 58, nombre: 'Espejo doble capibara ', valor: 2500, stock: 10, imagen: './espejocapibara.png' },
        { id: 61, nombre: 'aireador llave', valor: 1000, stock: 6, imagen: './aireadorllave.jpeg' },
        { id: 62, nombre: 'Vaso Stanley 1 <b>PRECIO REBAJADO</b>', valor: 13000, stock: 2, imagen: './vasostanley.jpg' },
        { id: 63, nombre: 'Vaso Stanley 2 <b>PRECIO REBAJADO</b>', valor: 13000, stock: 2, imagen: './vasostanley2.jpeg' },
        { id: 64, nombre: 'Vaso Stanley 3 <b>PRECIO REBAJADO</b>', valor: 13000, stock: 2, imagen: './vasostanley3.png' },
        { id: 2, nombre: 'candelabro gota', valor: 12000, stock: 0, imagen: './candelabrogota.png' },
        { id: 29, nombre: 'Lampara poligonal', valor: 8000, stock: 0, imagen: './lamparapoligonal.png' },
        { id: 33, nombre: 'mini tocador gatito', valor: 5000, stock: 5, imagen: './minitocadorgatito.png' },
        { id: 49, nombre: 'azucarero', valor: 1000, stock: 0, imagen: './azucarero.png' },
        { id: 5565656569, nombre: 'Set Canastillos ', valor: 5000, stock: 0, imagen: './setcanastillo.jpg' },
        



    ];
    const productosContainer = document.getElementById('productos');
    const cart = [];
 
    function renderProductos() {
        productosContainer.innerHTML = '';
        productos.forEach(producto => {
            const card = document.createElement('div');
            card.className = `card ${producto.stock === 0 ? 'grayscale' : ''}`;
            card.innerHTML = `
                <img src="${producto.imagen}" alt="${producto.nombre}" style="cursor:zoom-in;" onclick="mostrarImagen('${producto.imagen}', '${producto.nombre}')">
                <h2>${producto.nombre}</h2>
                <p>Valor: $${producto.valor}</p>
                <p style="color: ${producto.stock > 0 ? 'green' : 'red'}">
                    ${producto.stock > 0 ? `Stock: ${producto.stock}` : 'Sin Stock'}
                </p>
                <div>
                    <input type="number" id="qty-${producto.id}" min="1" max="${producto.stock}" value="1" ${producto.stock === 0 ? 'disabled' : ''}>
                    <button class="add-btn" onclick="addToCart(${producto.id})" ${producto.stock === 0 ? 'disabled' : ''}>Agregar</button>
                </div>
            `;
            productosContainer.appendChild(card);
        });
    }

    function renderCart() {
        const cartList = document.getElementById('cart-items');
        const totalEl = document.getElementById('cart-total');
        cartList.innerHTML = '';
        let total = 0;
        cart.forEach(item => {
            const li = document.createElement('li');
            li.textContent = `${item.nombre} x ${item.cantidad} = $${item.subtotal}`;
            cartList.appendChild(li);
            total += item.subtotal;
        });
        totalEl.textContent = total;
        document.getElementById('checkout-btn').disabled = cart.length === 0;
    }

    function addToCart(id) {
        const producto = productos.find(p => p.id === id);
        const qtyInput = document.getElementById(`qty-${id}`);
        const cantidad = parseInt(qtyInput.value);
        if (cantidad > producto.stock) {
            alert('Cantidad supera el stock disponible');
            return;
        }
        producto.stock -= cantidad;
        const existing = cart.find(i => i.id === id);
        if (existing) {
            existing.cantidad += cantidad;
            existing.subtotal += cantidad * producto.valor;
        } else {
            cart.push({ id, nombre: producto.nombre, cantidad, subtotal: cantidad * producto.valor });
        }
        renderProductos(); renderCart();
    }

    function filtrarProductos() {
        const texto = document.getElementById('buscador-productos').value.trim().toLowerCase();
        const resultadoDiv = document.getElementById('resultado-busqueda');
        let encontrados = [];

        if (texto === "") {
            renderProductos();
            resultadoDiv.textContent = "";
            return;
        }

        encontrados = productos.filter(producto =>
            producto.nombre.toLowerCase().includes(texto)
        );

        if (encontrados.length === 0) {
            let maxCoincidencias = 0;
            let productoMasCercano = null;
            productos.forEach(producto => {
                let coincidencias = 0;
                for (let i = 0; i < texto.length; i++) {
                    if (producto.nombre.toLowerCase().includes(texto[i])) {
                        coincidencias++;
                    }
                }
                if (coincidencias > maxCoincidencias) {
                    maxCoincidencias = coincidencias;
                    productoMasCercano = producto;
                }
            });
            if (productoMasCercano) {
                encontrados = [productoMasCercano];
                resultadoDiv.textContent = "Mostrando el producto más parecido a tu búsqueda.";
            } else {
                resultadoDiv.textContent = "No se encontraron productos para tu búsqueda.";
            }
        } else {
            resultadoDiv.textContent = `Resultados para: "${document.getElementById('buscador-productos').value}"`;
        }

        productosContainer.innerHTML = '';
        encontrados.forEach(producto => {
            const card = document.createElement('div');
            card.className = `card ${producto.stock === 0 ? 'grayscale' : ''}`;
            card.innerHTML = `
                <img src="${producto.imagen}" alt="${producto.nombre}" style="cursor:zoom-in;" onclick="mostrarImagen('${producto.imagen}', '${producto.nombre}')">
                <h2>${producto.nombre}</h2>
                <p>Valor: $${producto.valor}</p>
                <p style="color: ${producto.stock > 0 ? 'green' : 'red'}">
                    ${producto.stock > 0 ? `Stock: ${producto.stock}` : 'Sin Stock'}
                </p>
                <div>
                    <input type="number" id="qty-${producto.id}" min="1" max="${producto.stock}" value="1" ${producto.stock === 0 ? 'disabled' : ''}>
                    <button class="add-btn" onclick="addToCart(${producto.id})" ${producto.stock === 0 ? 'disabled' : ''}>Agregar</button>
                </div>
            `;
            productosContainer.appendChild(card);
        });
    }

    document.getElementById('checkout-btn').addEventListener('click', () => {
        const nombre = document.getElementById('nombre').value;
        const contacto = document.getElementById('contacto').value;
        const direccion = document.getElementById('direccion').value;
        if (!nombre || !contacto || !direccion) {
            alert('Por favor completa datos del contacto al pie de la página 🤩');
            // Hacer scroll suave al formulario
            document.getElementById('formulario').scrollIntoView({ behavior: 'smooth', block: 'center' });
            return;
        }
        let subject = `Nuevo pedido de ${nombre}`;
        let body = `Cliente: ${nombre}\nContacto: ${contacto}\nDirección: ${direccion}\n\nPedido:\n`;
        cart.forEach(item => { body += `- ${item.nombre} x ${item.cantidad} = $${item.subtotal}\n`; });
        body += `\nTotal: $${parseInt(document.getElementById('cart-total').textContent)}`;
        window.location.href = `mailto:quillaituncasa@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    });

    function mostrarImagen(src, alt) {
        const modal = document.getElementById('img-modal');
        const modalImg = document.getElementById('modal-img');
        modalImg.src = src;
        modalImg.alt = alt;
        modal.style.display = 'flex';
    }
    document.getElementById('img-modal').onclick = function() {
        this.style.display = 'none';
    };

    document.getElementById('clear-cart-btn').addEventListener('click', function() {
        // Restaurar stock de productos
        cart.forEach(item => {
            const producto = productos.find(p => p.id === item.id);
            if (producto) producto.stock += item.cantidad;
        });
        cart.length = 0;
        renderProductos();
        renderCart();
    });

    // Inicializar productos al cargar la página
    renderProductos();
</script>

<footer style="background:#181818; color:#f9f9f9; text-align:center; padding:18px 0 12px 0; margin-top:40px;">
    <span style="font-size:1.1em; margin-right:10px;">Contáctanos por WhatsApp:</span>
    <a href="https://wa.me/56977742424" target="_blank" style="color:#25D366; text-decoration:none; margin:0 10px; display:inline-flex; align-items:center;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width:22px; height:22px; vertical-align:middle; margin-right:6px;">
        +56 9 7774 2424
    </a>
    <a href="https://wa.me/56989553123" target="_blank" style="color:#25D366; text-decoration:none; margin:0 10px; display:inline-flex; align-items:center;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width:22px; height:22px; vertical-align:middle; margin-right:6px;">
        +56 9 8955 3123
    </a>
</footer>

<div class="marquesina-marfil">
    <span class="texto-marquesina">Casa Quillaitún</span>
</div>
<style>
.marquesina-marfil {
    width: 100vw;
    overflow: hidden;
    background: #F9F6F2; /* marfil */
    padding: 0;
    margin: 0;
    border-top: 1px solid #e0d2b8;
    position: relative;
}
.texto-marquesina {
    display: inline-block;
    white-space: nowrap;
    color: #B97A56; /* beige oscuro */
    font-family: 'Parisienne', cursive, Arial, sans-serif;
    font-size: 2em;
    padding: 10px 0;
    animation: marquesina-izq 18s linear infinite;
}
@keyframes marquesina-izq {
    0% {
        transform: translateX(100vw);
    }
    100% {
        transform: translateX(-100%);
    }
}
</style>
</body>
</html>
